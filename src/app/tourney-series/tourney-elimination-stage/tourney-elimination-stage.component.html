<mat-card appearance="outlined" style="margin-top:2em;" *ngIf="!!stage">
  <mat-card-header style="margin-bottom:1em;">
    <mat-card-title>{{ stage.title }}</mat-card-title>
    <mat-card-subtitle class="roundOver" *ngIf="stageCompleted">
    </mat-card-subtitle>
  </mat-card-header>

  <div style="display: flex; flex-direction: column; gap: 0.5em; margin: 0.5em;">
    @for (match of stage.matches; track match) {
      <app-match
        [match]="match"
        [disabled]="!stageActive"
        (change)="emitChange($event)">
      </app-match>
    }
  </div>

  <mat-card-actions *ngIf="this.stage.status != 2">
    <button mat-button *ngIf="canHandleTourney()" [disabled]="!allGamesOver()" (click)="finalize()">Abschlie√üen</button>
    Ausspielziel: {{ this.stage.matches[0].length }}
    <button *ngIf="canHandleTourney()" style="margin: 10px;" (click)="increaseLength()">+</button>
    <button *ngIf="canHandleTourney()" style="margin: 10px;" (click)="decreaseLength()">-</button>
  </mat-card-actions>
</mat-card>
